(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{7201:function(e,r,a){Promise.resolve().then(a.bind(a,1367))},1367:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return l}});var s=a(7437),t=a(7907),o=a(2265),i=a(6123);function l(){let e=(0,t.useRouter)(),[r,a]=(0,o.useState)(null),[l,n]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),[m,u]=(0,o.useState)(!0),[g,p]=(0,o.useState)(!1),[b,h]=(0,o.useState)(!1),[x,y]=(0,o.useState)(!0),[f,k]=(0,o.useState)(""),w=(0,o.useRef)([]),v=(0,o.useCallback)(async a=>{if(a.preventDefault(),d===l)try{(await fetch("".concat("http://localhost:8010","/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:d})})).ok?(i.Am.success("Password reseted",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),setTimeout(()=>{e.push("/login")},1e3)):i.Am.error("Password reset failed",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}catch(e){console.error("Server error",e)}else i.Am.error("Passwords does not matching",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},[d,l]),C=(e,r)=>{let{value:a}=e.target;k(f.slice(0,r)+a+f.slice(r+1)),a&&r<w.current.length-1&&w.current[r+1].focus()},j=(0,o.useCallback)(async e=>{e.preventDefault();try{(await fetch("".concat("http://localhost:8010","/createnewotp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})})).ok?(i.Am.success("OTP sent successfully",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),console.log(r),u(!1),p(!0)):i.Am.error("OTP generation failed",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}catch(e){console.error("Server error",e)}}),N=(0,o.useCallback)(async e=>{console.log(e);try{let a=await fetch("".concat("http://localhost:8010","/validation"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,otp:e})});if(a.ok){let e=await a.json();i.Am.success("OTP validation success",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),console.log("Create a new password ",e),p(!1),h(!0)}else i.Am.error("Incorrect OTP or email",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}catch(e){console.log("Server error ",e)}},[r]);return(0,o.useEffect)(()=>{var e;null===(e=w.current[0])||void 0===e||e.focus()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ix,{}),(0,s.jsx)("section",{className:"bg-gray-50 dark:bg-gray-900 flex items-center justify-center h-screen",children:(0,s.jsxs)("div",{className:"w-full p-6 bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-10",children:[m&&(0,s.jsxs)("form",{className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",id:"email-form",onSubmit:j,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block mb-5 text-sm font-semibold text-gray-900 dark:text-white font-sans md:text-xl",children:[" ","Enter your email"]}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:!0,onChange:e=>a(e.target.value)})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 bg-blue-500",children:"Submit"})})]}),g&&(0,s.jsxs)("form",{className:"max-w-sm mx-auto",id:"otp-form",onSubmit:e=>{e.preventDefault(),N(parseInt(f,10))},children:[(0,s.jsx)("div",{className:"flex mb-2 space-x-2 rtl:space-x-reverse ml-20",children:[1,2,3,4].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"code-".concat(e),className:"sr-only",children:"Code ".concat(e)}),(0,s.jsx)("input",{type:"text",maxLength:"1",id:"code-".concat(e),ref:r=>w.current[e-1]=r,className:"block w-9 h-9 py-3 text-sm font-extrabold text-center text-gray-900 bg-white border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",required:!0,value:f[e-1]||"",onChange:r=>C(r,e-1)})]},e))}),(0,s.jsx)("p",{id:"helper-text-explanation",className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Please introduce the 4-digit code we sent via email."}),(0,s.jsx)("button",{type:"submit",className:"ml-32 mt-5 text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 hover:bg-blue-800 bg-blue-500",children:"Submit"})]}),b&&(0,s.jsxs)("form",{onSubmit:v,className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",id:"cnf-pass",action:"#",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"New Password"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:x?"text":"password",name:"password",id:"password",placeholder:"new password",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 pr-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>c(e.target.value)}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#bbb",stroke:"#bbb",className:"fixed w-[18px] h-[18px] cursor-pointer",viewBox:"0 0 128 128",onClick:()=>y(!x),style:{marginLeft:"340px"},children:(0,s.jsx)("path",{d:"M64 104C22.127 104 1.367 67.496.504 65.943a4 4 0 0 1 0-3.887C1.367 60.504 22.127 24 64 24s62.633 36.504 63.496 38.057a4 4 0 0 1 0 3.887C126.633 67.496 105.873 104 64 104zM8.707 63.994C13.465 71.205 32.146 96 64 96c31.955 0 50.553-24.775 55.293-31.994C114.535 56.795 95.854 32 64 32 32.045 32 13.447 56.775 8.707 63.994zM64 88c-13.234 0-24-10.766-24-24s10.766-24 24-24 24 10.766 24 24-10.766 24-24 24zm0-40c-8.822 0-16 7.178-16 16s7.178 16 16 16 16-7.178 16-16-7.178-16-16-16z","data-original":"#000000"})})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:x?"text":"password",name:"confirm-password",id:"confirm-password",placeholder:"Confirm password",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 pr-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:e=>n(e.target.value)}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#bbb",stroke:"#bbb",className:"absolute flex  w-[18px] h-[18px] cursor-pointer",viewBox:"0 0 128 128",onClick:()=>y(!x),style:{marginLeft:"340px"},children:(0,s.jsx)("path",{d:"M64 104C22.127 104 1.367 67.496.504 65.943a4 4 0 0 1 0-3.887C1.367 60.504 22.127 24 64 24s62.633 36.504 63.496 38.057a4 4 0 0 1 0 3.887C126.633 67.496 105.873 104 64 104zM8.707 63.994C13.465 71.205 32.146 96 64 96c31.955 0 50.553-24.775 55.293-31.994C114.535 56.795 95.854 32 64 32 32.045 32 13.447 56.775 8.707 63.994zM64 88c-13.234 0-24-10.766-24-24s10.766-24 24-24 24 10.766 24 24-10.766 24-24 24zm0-40c-8.822 0-16 7.178-16 16s7.178 16 16 16 16-7.178 16-16-7.178-16-16-16z","data-original":"#000000"})})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex items-center h-5",children:(0,s.jsx)("input",{id:"newsletter","aria-describedby":"newsletter",type:"checkbox",className:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",required:!0})}),(0,s.jsx)("div",{className:"ml-3 text-sm",children:(0,s.jsxs)("label",{htmlFor:"newsletter",className:"font-light text-gray-500 dark:text-gray-300",children:["I accept the"," ",(0,s.jsx)("a",{className:"font-medium text-primary-600 hover:underline dark:text-primary-500",href:"#",children:"Terms and Conditions"})]})})]}),(0,s.jsx)("button",{type:"submit",className:"w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 bg-blue-500",children:"Reset password"})]})]})})]})}a(8062)},7907:function(e,r,a){"use strict";var s=a(5313);a.o(s,"redirect")&&a.d(r,{redirect:function(){return s.redirect}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}})},8062:function(){}},function(e){e.O(0,[123,971,69,744],function(){return e(e.s=7201)}),_N_E=e.O()}]);